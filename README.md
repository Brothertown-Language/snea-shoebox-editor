<!-- Copyright (c) 2026 Brothertown Language -->
<!-- Licensed under CC BY-SA 4.0 -->
# SNEA Online Shoebox Editor

Concurrent, version-controlled editing of Southern New England Algonquian (SNEA) linguistic records in MDF format.

## Overview

The **SNEA Online Shoebox Editor** is a collaborative platform for managing linguistic data. It leverages a 100% Python stack to provide a robust, "Zero-Touch" deployment environment for editing records in Multi-Dictionary Form (MDF).

### Goals & Ethics
- **Nation Sovereignty**: Developed with respect for SNEA Nation sovereignty.
- **AI Contributions**: All AI-assisted changes are clearly marked.
- **Inclusive English**: Use of respectful and inclusive language (e.g., "Nation" instead of "Tribal").

## Tech Stack

- **Frontend**: [Solara](https://solara.dev/) (Reactive Python UI, compiled to WASM/Pyodide).
- **Backend**: [Cloudflare Workers](https://workers.cloudflare.com/) (Python runtime).
- **Database**: [Cloudflare D1](https://developers.cloudflare.com/d1/) (SQL database).
- **Package Manager**: [uv](https://github.com/astral-sh/uv).
- **Deployment**: GitHub Actions + Wrangler.

## Requirements

- **Docker**: Required for the recommended containerized development.
- **Python**: >= 3.11 (Optional, for direct local execution/testing).
- **uv**: Latest version recommended (Optional, for direct local execution/testing).
- **Cloudflare Account**: With Workers and D1 access.
- **GitHub Account**: For authentication (OAuth) and deployment.

## Setup

### 1. Preparation
If you are setting up the project for the first time (e.g., in a new environment or for a new deployment), follow the instructions below. 

**Note: If you have already cloned the repository and are contributing via pull requests or direct access, the infrastructure and secrets are already configured. You only need to set up your local development environment (Step 2: Initialization). No bootstrapping is required in this case.**

Obtain the following "Master Keys":
- **Cloudflare API Token**: With `Account.Workers Scripts: Edit`, `Account.D1: Edit`, and `User.Account: Read` permissions.
- **GitHub PAT**: Classic token with `repo` scope.

### 2. Initialization
Refer to the **[Local Development Guide](docs/development/local-development.md)** for detailed instructions on setting up your local environment using Docker. Note that Cloudflare D1 type access (simulated locally via Wrangler) is required for all development work.

**Recommended (Docker):**
```bash
docker-compose up --build
```

**Optional (Manual):**
```bash
# Clone the repository
git clone <repo-url>
cd snea-shoebox-editor

# Create virtual environment and install dependencies
uv venv
uv pip install -e .
# Optional: source .venv/bin/activate
```

### 3. Infrastructure Bootstrapping
Export the required environment variables and run the bootstrap script:
```bash
export CF_API_TOKEN="your_cloudflare_token"
export GH_TOKEN="your_github_pat"

uv run python bootstrap_env.py
```
This script automates:
- Creation of the `snea-shoebox` D1 database.
- Generation of a `JWT_SECRET`.
- Uploading secrets to GitHub Repo Secrets.
- Generation of `wrangler.toml`.

## Environment Variables

| Variable | Description | Source |
|----------|-------------|--------|
| `CF_API_TOKEN` | Cloudflare API Token | Manual |
| `GH_TOKEN` | GitHub Personal Access Token | Manual |
| `JWT_SECRET` | Secret for JWT signing | Generated by `bootstrap_env.py` |
| `GITHUB_CLIENT_ID` | GitHub OAuth Client ID | Manual (Phase 5) |
| `GITHUB_CLIENT_SECRET` | GitHub OAuth Client Secret | Manual (Phase 5) |

## Scripts

- `bootstrap_env.py`: Automates Cloudflare and GitHub infrastructure setup.
- `uv run python -m unittest discover tests`: Runs the test suite.

## Documentation

Comprehensive documentation is available in the `docs/` directory:

- **[Architecture](docs/ARCHITECTURE.md)**: Technical overview and stack details.
- **[Roadmap & Setup](docs/development/roadmap.md)**: Detailed deployment phases and development roadmap.
- **[Contributing](CONTRIBUTING.md)**: Guidelines for contributing to the project.
- **[Local Development](docs/development/local-development.md)**: Guide for setting up a local development environment using Docker and test databases.
- **[MDF Guidelines](docs/mdf/)**: References for the Multi-Dictionary Form.

## License

- **Code**: This project's source code is licensed under the [MIT License](LICENSE).
- **Documentation**: All documentation (including AI-generated content) is licensed under [Creative Commons Attribution-ShareAlike 4.0 International (CC BY-SA 4.0)](https://creativecommons.org/licenses/by-sa/4.0/).

---
*Note: This project is in active development.*
